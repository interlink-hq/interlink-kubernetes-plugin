{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "[interlink-kubernetes-plugin] Run FastAPI",
            "type": "debugpy",
            "request": "launch",
            "module": "uvicorn",
            "args": [
                "main:app",
                "--reload",
                "--host=0.0.0.0",
                "--port=30400",
                "--log-level=debug"
            ],
            "env": {},
            "justMyCode": false,
            "cwd": "${workspaceFolder}/src",
        },
        {
            "name": "[interlink-kubernetes-plugin] Run All Tests",
            "type": "debugpy",
            "request": "launch",
            "module": "pytest",
            "args": [
                "-x", // stop after 1 failure
                // "-c=/mk/pytest.ini",
                "--verbose",
                "--log-level=INFO",
                "--log-cli-level=INFO"
            ],    
            "cwd": "${workspaceFolder}/test",
            "env": {
                "PYTHONPATH": "$PYTHONPATH:${workspaceFolder}/src",
            },
            // Note: 'envFile' is redundant as .env file is automatically loaded
            // "envFile": "${workspaceFolder}/.env",
            "justMyCode": false
        },
        {
            // https://code.visualstudio.com/docs/python/testing#_debug-tests
            "name": "[interlink-kubernetes-plugin] Run Tests via 'Test: Debug' command",
            "type": "debugpy",
            "request": "launch",
            "cwd": "${workspaceFolder}/test",
            "env": {
                "PYTHONPATH": "$PYTHONPATH:${workspaceFolder}/src",
            },
            "purpose": ["debug-test"],
            "justMyCode": false
        }
    ]
}
